</html>
<!DOCTYPE html>
<html>

<head>
    <title>D3 Drawing Example</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- From a file
  
     <script src="../src/dispProxToVal.js"></script>
    <script src="../src/slider.js"></script>
     -->
    <script src="https://cdn.jsdelivr.net/gh/CHEMeDATA/dispProxToVal@latest/src/dispProxToVal.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/CHEMeDATA/dispProxToVal@latest/src/slider.js"></script>
</head>

<body>
    <div id="tooltip"
        style="position: absolute; visibility: hidden; padding: 8px; background-color: white; border: 1px solid #ccc; border-radius: 5px; pointer-events: none; z-index: 10;">
    </div>

    <table>
        <tr>
            <th>Parameters</th>
            <th>Output</th>
        </tr>
        <tr>
            <td>{ "array": [{ "label": "ff", "value": 0.999 }] }</td>
            <td>
                <svg id="drawing3"></svg>
                <script>
                    const dispQuality3 = new DispProxToVal("#drawing3");

                    dispQuality3.initJson({ "array": [{ "label": "ff", "value": 0.999 }] }, { types: ["toMax"] });

                </script>
            </td>
        </tr>
        <tr>
            <td>{"array":[{"label":"ff","value":0.1937677347501954}]},{types:["toMax"]}</td>
            <td>
                <svg id="drawing2"></svg>
                <script>
                    const dispQuality2 = new DispProxToVal("#drawing2");
                    dispQuality2.initJson({ "array": [{ "label": "ff", "value": 0.1937677347501954 }] }, { types: ["toMax"] });
                </script>
            </td>
        </tr>
        <tr>
            <td>{"array":[{"label":"ff","value":1.0001]},{types:["toCen"]}</td>
            <td>
                <svg id="drawing4"></svg>
                <script>
                    const dispQuality4 = new DispProxToVal("#drawing4");
                    dispQuality4.initJson({ "array": [{ "label": "ff", "value": 1.0001 }] }, { types: ["toCen"] });
                </script>
            </td>
        </tr>
        <tr>
            <td>{"array":[{"label":"ff","value":1.001]},{types:["toCen"]}</td>
            <td>
                <svg id="drawing5"></svg>
                <script>
                    const drawing5 = new DispProxToVal("#drawing5");
                    drawing5.initJson({ "array": [{ "label": "ff", "value": 1.001 }] }, { types: ["toCen"] });
                </script>
            </td>
        </tr>
        <tr>
            <td>{"array":[{"label":"ff","value":1.01]},{types:["toCen"]}</td>
            <td>
                <svg id="drawing6"></svg>
                <script>
                    const drawing6 = new DispProxToVal("#drawing6");
                    drawing6.initJson({ "array": [{ "label": "ff", "value": 1.01 }] }, { types: ["toCen"] });
                </script>
            </td>
        </tr>
        <tr>
            <td>{"array":[{"label":"ff","value":1.]},{types:["toCen"]}</td>
            <td>
                <svg id="drawing7"></svg>
                <script>
                    const drawing7 = new DispProxToVal("#drawing7");
                    drawing7.initJson({ "array": [{ "label": "ff", "value": 1.1 }] }, { types: ["toCen"] });
                </script>
            </td>
        </tr>
        <!-- alternative display -->
        <tr>
            <td>
                <script>
                    const jsonData = { "array": [{ "label": "fg", "value": 2.0 }] };
                    const jsonTypes = { types: ["toCen"] };
                    document.write(JSON.stringify(jsonData), ",", JSON.stringify(jsonTypes));
                </script>
            </td>
            <td>
                <svg id="drawing8"></svg>
                <script>
                    const drawing8 = new DispProxToVal("#drawing8");
                    drawing8.initJson(jsonData, jsonTypes);
                </script>
            </td>

        </tr>
    </table>
    <!-- From a file -->
    <hr>
    <svg id="drawing"></svg>
    <!-- optional slider to dynamically change the data -->
    <div id="slider-container"></div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const dispQuality = new DispProxToVal("#drawing");
            dispQuality.init("../data/singleton.json");

            // optional slider to dynamically change the data needs a  <div id="slider-container"></div>
            const relevantNumberDigits = 4;
            const slider = new Slider('#slider-container', dispQuality, {
                min: -(relevantNumberDigits + 1),
                max: (relevantNumberDigits + 1),
                step: 0.01,
                initialValue: 0,
                width: '200 pt',
                margin: '20px 0',
                logScale: true,
                precision: relevantNumberDigits + 1,
                constantShift: 1, // ref. value 
                shiftLog: relevantNumberDigits, // for logScale
            });

        });

    </script>

</body>

</html>